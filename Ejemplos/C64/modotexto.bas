10 REM INICIALIZAR VIC-II
20 POKE 53280,12 : REM COLOR BORDE
30 POKE 53281,0  : REM COLOR FONDO
40 POKE 53282,2  : REM COLOR EXTRA 1
50 POKE 53283,5  : REM COLOR EXTRA 2
60 POKE 53284,3  : REM COLOR EXTRA 3
70 POKE 646,1    : REM COLOR CURSOR
80 GOSUB 670
90 REM PINTAR MENU
100 PRINT "{147}{32*10}(VIC-II TEXT MODES)"
110 PRINT
120 PRINT "{32*4}F1:MONO F2:MULT F3:EXBG F4:BRCL"
130 PRINT "{32*4}F5:BGCL F6:E1CL F7:E2CL F8:E3CL"
140 PRINT "{32*3}0:CHCL 1-8:C0-C7 SHIFT+1-8:C8-C15"
150 REM PINTAR FUENTE
160 POKE 646,15
170 TB=1024  : REM BUFFER PANTALLA
180 CB=55296 : REM BUFFER COLOR
190 C=PEEK(646):T=0
200 FOR I=6 TO 13
210 FOR J=12 TO 27
220 POKE TB+(I*40+J),T
230 POKE CB+(I*40+J),C
240 POKE TB+((I+9)*40+J),T+128
250 POKE CB+((I+9)*40+J),C
260 T=T+1
270 NEXT J,I
280 REM LOGICA MENU
290 MD=0
300 GET K$
310 IF K$="{F1}" THEN GOSUB 670
320 IF K$="{F2}" THEN GOSUB 710
330 IF K$="{F3}" THEN GOSUB 750
340 IF K$="{F4}" THEN MD=1
350 IF K$="{F5}" THEN MD=2
360 IF K$="{F6}" THEN MD=3
370 IF K$="{F7}" THEN MD=4
380 IF K$="{F8}" THEN MD=5
390 IF K$="0" THEN MD=0
400 IF K$>="1" AND K$<="8" THEN C=ASC("1"):GOTO 460
410 IF K$>="!" AND K$<="(" THEN C=ASC("!")-8:GOTO 460
420 IF K$="/" THEN K$="'":C=ASC("!")-8:GOTO 460
430 IF K$="Q" THEN 550
440 GOTO 300
450 REM CAMBIAR EL COLOR
460 C=ASC(K$)-C
470 IF MD=0 THEN POKE 646,C:GOSUB 590
480 IF MD=1 THEN POKE 53280,C
490 IF MD=2 THEN POKE 53281,C
500 IF MD=3 THEN POKE 53282,C
510 IF MD=4 THEN POKE 53283,C
520 IF MD=5 THEN POKE 53284,C
530 GOTO 300
540 REM SALIR DEL PROGRAMA
550 PRINT"{147}"
560 GOSUB 670
570 END
580 REM ACTUALIZAR BUFFER COLOR
590 C=PEEK(646)
600 FOR I=6 TO 13
610 FOR J=12 TO 27
620 POKE CB+(I*40+J),C
630 POKE CB+((I+9)*40+J),C
640 NEXT J,I
650 RETURN
660 REM ACTIVAR MODO MONOCOLOR
670 POKE 53265,(PEEK(53265) AND 159)
680 POKE 53270,(PEEK(53270) AND 239)
690 RETURN
700 REM ACTIVAR MODO MULTICOLOR
710 POKE 53265,(PEEK(53265) AND 159)
720 POKE 53270,(PEEK(53270) AND 239) OR 16
730 RETURN
740 REM ACTIVAR MODO FONDO EXTENDIDO
750 POKE 53265,(PEEK(53265) AND 159) OR 64
760 POKE 53270,(PEEK(53270) AND 239)
770 RETURN